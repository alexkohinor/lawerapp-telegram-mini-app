# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ–ø–ª–æ—è TimeWeb Cloud

**–î–∞—Ç–∞:** 19 –æ–∫—Ç—è–±—Ä—è 2024  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ  
**–í–µ—Ä—Å–∏—è:** 1.0.0

## üìã –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### –ù–∞–π–¥–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞
–î–µ–ø–ª–æ–π –ø–∞–¥–∞–ª –∏–∑-–∑–∞ **–∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** –º–µ–∂–¥—É `next.config.js` –∏ `package.json`:

1. **next.config.js**: `output: 'export'` –±—ã–ª –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω
2. **package.json**: build –∫–æ–º–∞–Ω–¥–∞ –ø—ã—Ç–∞–ª–∞—Å—å –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –∏–∑ `.next/server/app/` –≤ `out/`
3. **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Å–±–æ—Ä–∫–∏

### –õ–æ–≥–∏ –¥–µ–ø–ª–æ—è –ø–æ–∫–∞–∑–∞–ª–∏:
```
17:16:10 | ERROR | index.html or index.htm not found in the /out
17:17:29 | SUCCESS | index.html –Ω–∞–π–¥–µ–Ω –≤ /out
```

## üîß –ü—Ä–∏–º–µ–Ω–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ next.config.js

**–ë—ã–ª–æ:**
```javascript
// output: 'export', // –û—Ç–∫–ª—é—á–∞–µ–º –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ API routes
trailingSlash: true,
skipTrailingSlashRedirect: true,
images: {
  unoptimized: true
},
async headers() {
  // ... –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º —ç–∫—Å–ø–æ—Ä—Ç–æ–º
}
```

**–°—Ç–∞–ª–æ:**
```javascript
/** @type {import('next').NextConfig} */
const nextConfig = {
  output: 'export',           // –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —ç–∫—Å–ø–æ—Ä—Ç–∞
  trailingSlash: true,        // –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–ª—è TimeWeb Cloud
  images: {
    unoptimized: true,        // –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —ç–∫—Å–ø–æ—Ä—Ç–∞
    domains: ['telegram.org', 'cdn.telegram.org'],
    formats: ['image/webp', 'image/avif'],
  },
  env: {
    CUSTOM_KEY: process.env.CUSTOM_KEY,
  },
};

module.exports = nextConfig;
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –í–∫–ª—é—á–µ–Ω `output: 'export'`
- ‚úÖ –£–¥–∞–ª–µ–Ω `skipTrailingSlashRedirect`
- ‚úÖ –£–¥–∞–ª–µ–Ω `async headers()` (–Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º —ç–∫—Å–ø–æ—Ä—Ç–æ–º)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–æ–º–µ–Ω—ã –¥–ª—è Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### 2. –£–ø—Ä–æ—â–µ–Ω–∏–µ build –∫–æ–º–∞–Ω–¥—ã

**–ë—ã–ª–æ:**
```json
"build": "next build && mkdir -p out && cp -r .next/server/app/* out/ 2>/dev/null || true && cp -r public/* out/ 2>/dev/null || true"
```

**–°—Ç–∞–ª–æ:**
```json
"build": "next build"
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** –ü—Ä–∏ `output: 'export'` Next.js –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –ø–∞–ø–∫—É `out/` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º.

### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ TypeScript –æ—à–∏–±–æ–∫

**–ü—Ä–æ–±–ª–µ–º–∞:** –í —Å–∫—Ä–∏–ø—Ç–∞—Ö `setup-local-dev.ts` –∏ `setup-telegram-webapp.ts` –±—ã–ª–∏ –≤—ã–∑–æ–≤—ã:
```typescript
log('', ''); // –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ —Å –ø—É—Å—Ç—ã–º —Ü–≤–µ—Ç–æ–º
```

**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–º–µ–Ω–µ–Ω–æ –Ω–∞:
```typescript
log(''); // –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –±–µ–∑ —Ü–≤–µ—Ç–∞
```

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞
```bash
npm run build
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úì Compiled successfully in 5.4s
‚úì Linting and checking validity of types    
‚úì Collecting page data    
‚úì Generating static pages (7/7)
‚úì Collecting build traces    
‚úì Exporting (2/2)
‚úì Finalizing page optimization 

Route (app)                                 Size  First Load JS    
‚îå ‚óã /                                    1.07 kB         103 kB
‚îú ‚óã /_not-found                            993 B         103 kB
‚îú ‚óã /miniapp-test                        1.83 kB         104 kB
‚îî ‚óã /test                                2.29 kB         104 kB
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤
```bash
ls -la out/
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
-rw-r--r--@  1 macbook  staff   6982 Oct 19 17:54 index.html
-rw-r--r--@  1 macbook  staff   4094 Oct 19 17:54 index.txt
-rw-r--r--@  1 macbook  staff    435 Oct 19 17:54 manifest.json
drwxr-xr-x@  4 macbook  staff    128 Oct 19 17:54 miniapp-test
drwxr-xr-x@  4 macbook  staff    128 Oct 19 17:54 test
```

**‚úÖ index.html —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**

## üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Web App

### –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã:
```bash
curl -X POST https://api.telegram.org/bot8208499008:AAHd9069cfFeM0OIqWrm86QyM0DEUBbV2z8/setMyCommands
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{"ok":true,"result":true}
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
- `/start` - üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å LawerApp
- `/help` - ‚ùì –ü–æ–º–æ—â—å –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- `/info` - ‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ LawerApp
- `/consultation` - ‚öñÔ∏è –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∞–≤–æ–≤—É—é –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é
- `/dispute` - üìã –°–æ–∑–¥–∞—Ç—å –ø—Ä–∞–≤–æ–≤–æ–π —Å–ø–æ—Ä
- `/documents` - üìÑ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏

## üìö –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—Ä–∞–≤–∏–ª–∞–º Cursor

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞–º –∏–∑ `.cursorrules`:

```javascript
// ‚úÖ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —ç–∫—Å–ø–æ—Ä—Ç–∞
output: 'export',

// ‚úÖ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–ª—è TimeWeb Cloud
trailingSlash: true,

// ‚úÖ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —ç–∫—Å–ø–æ—Ä—Ç–∞
images: {
  unoptimized: true,
  domains: ['telegram.org', 'cdn.telegram.org'],
  formats: ['image/webp', 'image/avif'],
},
```

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–î–µ–ø–ª–æ–π –Ω–∞ TimeWeb Cloud** - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Web App URL** - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å URL Mini App –≤ Telegram –±–æ—Ç–µ
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Mini App** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤ Telegram
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ—à–∏–±–∫–∏

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

- **TypeScript:** ‚úÖ 0 –æ—à–∏–±–æ–∫
- **ESLint:** ‚úÖ 0 –æ—à–∏–±–æ–∫  
- **Build –≤—Ä–µ–º—è:** ‚úÖ 5.4s (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ)
- **–†–∞–∑–º–µ—Ä –±–∞–Ω–¥–ª–∞:** ‚úÖ 102 kB (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ)
- **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:** ‚úÖ 7/7 —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã

---

**–ö–æ–º–∞–Ω–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** LawerApp Team  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É  
**–°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø:** –î–µ–ø–ª–æ–π –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Mini App
